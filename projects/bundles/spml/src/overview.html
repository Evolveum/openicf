<!--
  ====================
  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.
  
  Copyright 2007-2008 Sun Microsystems, Inc. All rights reserved.     
  
  The contents of this file are subject to the terms of the Common Development 
  and Distribution License("CDDL") (the "License").  You may not use this file 
  except in compliance with the License.
  
  You can obtain a copy of the License at 
  http://IdentityConnectors.dev.java.net/legal/license.txt
  See the License for the specific language governing permissions and limitations 
  under the License. 
  
  When distributing the Covered Code, include this CDDL Header Notice in each file
  and include the License file at identityconnectors/legal/license.txt.
  If applicable, add the following below this CDDL Header, with the fields 
  enclosed by brackets [] replaced by your own identifying information: 
  "Portions Copyrighted [year] [name of copyright owner]"
  ====================
-->
<html>
<head>
</head>
<body>
<p>
The SPML Connector can provision users to any SPML 2.0 server.
<p>
Since SPML 2.0 does not specify how to establish and maintain a Session, the SPML 2.0
Connector allows scripts to be performed at specified points in the execution,
so that Session management can be performed.
<p>
These points are:
<ul>
<li>After a connection has been established. 
<br>The following variables will be available to the script: 
<ul> 
<li>connection -- the com.sun.openconnectors.framework.spi.Connection just established</li> 
<li>username -- the username specified for the connection</li> 
<li>password -- the password specified for the connection</li> 
<li>memory -- a java.util.Map persisted between script executions</li> 
</ul>
</li>
<li>Before a Request is sent. 
<br>The following variables will be available to the script: 
<ul> 
<li>request -- the org.openspml.v2.msg.Request about to be sent</li>
<li>memory -- a java.util.Map persisted between script executions</li> 
</ul>
<li>After a Response is received. 
<br>The following variables will be available to the script: 
<ul> 
<li>response -- the org.openspml.v2.msg.Response just received</li>
<li>memory -- a java.util.Map persisted between script executions</li> 
</ul>
</li>
<li>Before a connection is disposed. 
<br>The following variables will be available to the script: 
<ul> 
<li>connection -- the com.sun.openconnectors.framework.spi.Connection about to be disposed</li> 
<li>username -- the username specified for the connection</li> 
<li>password -- the password specified for the connection</li> 
<li>memory -- a java.util.Map persisted between script executions</li> 
</ul>
</ul>
<p>
Additionally, scripts can be executed to change the Attributes before they are 
sent to the server, or after they are received back from the server. This can be necessary
since the Connector Framework uses reserved names for some attributes (such as '__PASSWORD__'
for password) that may not correspond to the names used by the server.
<p>
<ul>
<li>A script can be executed to modify attribute names on Create and Modify. 
<br>The script should return the name to be used. 
The following variables will be available to the script:
<ul> 
<li>name -- the name of the attribute</li>
<li>objectClass -- the name of the objectClass</li>
<li>configuration -- the SPMLConfiguration object</li>
<li>memory -- a java.util.Map persisted between script executions</li>
</ul>
<li>A script can be executed to modify Attributes returned by Search. 
<br>The script should return the Attribute to be used. 
The following variables will be available to the script:
<ul>
<li>attribute -- the com.sun.openconnectors.framework.common.objects.Attribute</li>
<li>objectClass -- the name of the objectClass</li>
<li>configuration -- the SPMLConfiguration object</li>
<li>memory -- a java.util.Map persisted between script executions</li>
</ul>
</li>
<li>A script can be executed to modify attribute names on Search. 
<br>The script should return the name to be used. 
The following variables will be available to the script :
<ul>
<li>name -- the name of the attribute</li>
<li>configuration -- the SPMLConfiguration object</li>
<li>memory -- a java.util.Map persisted between script executions</li>
</ul>
</li>
</ul>

</body>
