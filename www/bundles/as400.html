<!--
  ====================
  DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.
  
  Copyright 2007-2008 Sun Microsystems, Inc. All rights reserved.     
  
  The contents of this file are subject to the terms of the Common Development 
  and Distribution License("CDDL") (the "License").  You may not use this file 
  except in compliance with the License.
  
  You can obtain a copy of the License at 
  http://IdentityConnectors.dev.java.net/legal/license.txt
  See the License for the specific language governing permissions and limitations 
  under the License. 
  
  When distributing the Covered Code, include this CDDL Header Notice in each file
  and include the License file at identityconnectors/legal/license.txt.
  If applicable, add the following below this CDDL Header, with the fields 
  enclosed by brackets [] replaced by your own identifying information: 
  "Portions Copyrighted [year] [name of copyright owner]"
  ====================
-->
<HTML>
<HEAD>
    <META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
    <TITLE>IdentityConnectors: AS400 Connector</TITLE>
</HEAD>
<BODY>
<DIV id="projecthome" class="app">
    <H1>AS400 Connector Overview</H1>
<p>
A Connector implementation for an AS400 or iSeries machine. Compatible with AS/400 Version 5,
Release 2 (V5R2) and above. Uses the Java Toolbox Open version 6.2 (http://jt400.sourceforge.net/) 
to connect to the AS/400.  The jar file jt400.jar should be in the class path.  The Toolbox uses
the IBM Host Servers on the AS/400 to supply access to a command interpreter and system objects.  
Configuring the host server is simple, and fully documented in the Java Toolbox documentation,
available on the IBM web site.

    <h3>Bundle Information</h3>
    <ul>  
       <li><b>Latest stable release:</b> <!-- <a href="https://identityconnectors.dev.java.net/downloads.html#Bundles">1.0.3230</a> --> Not yet available
	   <li><b>Platform:</b> Java
       <li><b>3rd-party libraries required:</b> <a href="http://jt400.sourceforge.net">JTOpen 6.2</a> or higher (IBM Toolbox for Java)
       <li><b>Release notes:</b> <br><br>
       The following excerpt from IBM documentation gives simple directions for
setting up the host server on the AS/400:
<br><br>
Running IBM Toolbox for Java in a client/server environment requires that
you enable the QUSER user profile, start the host servers, and have TCP/IP
running. Perform these actions from an iSeries command line by running the
following commands:
<br><br>
Type DSPUSRPRF USRPRF(QUSER) and press ENTER to enable the QUSER user profile.
The resulting display shows the status for QUSER.
<br><br>
Type STRHOSTSVR and press ENTER to start the AS/400 host servers.
<br><br>
Type STRTCPSVR SERVER(*DDM) to start the TCP/IP server (with *DDM specified
for the Server parameter).
<br><br>
Note: To run TCP/IP, you must have the TCP/IP Connectivity Utilities for AS/400
(licensed program 5722-TC1) installed on the server. For more information on
host server options and TCP/IP, see the TCP/IP topic in the iSeries Information Center.
<br><br>
More details (including how to setup SSL) are available in the IBM docs.
<br><br>
By default, the Java Toolbox uses the following ports for connecting
to the server:
<table>
<tr><td> 449 </td><td width=50></td><td> AS Server Mapper. </td></tr>
<tr><td> 8473 </td><td></td><td> File. </td></tr>
<tr><td> 8474 </td><td></td><td> Print. </td></tr>
<tr><td> 8475 </td><td></td><td> Command. </td></tr>
<tr><td> 8472 </td><td></td><td> Data Queue. </td></tr>
<tr><td> 8471 </td><td></td><td> Database. </td></tr>
<tr><td> 446 </td><td></td><td> Record Level Access. </td></tr>
<tr><td> 8470 </td><td></td><td> Central. </td></tr>
<tr><td> 8476 </td><td></td><td> Sign-on. </td></tr>
<tr><td> 9473 </td><td></td><td> Secure File. </td></tr>
<tr><td> 9474 </td><td></td><td> Secure Print. </td></tr>
<tr><td> 9475 </td><td></td><td> Secure Command. </td></tr>
<tr><td> 9472 </td><td></td><td> Secure Data Queue. </td></tr>
<tr><td> 9471 </td><td></td><td> Secure Database. </td></tr>
<tr><td> 448 </td><td></td><td> Secure Record Level Access. </td></tr>
<tr><td> 9470 </td><td></td><td> Secure Central. </td></tr>
<tr><td> 9476 </td><td></td><td> Secure Sign-on. </td></tr>
</table>
<br><br>
Of these, currently ports 449, 8475, 446, and 8476 are used by the connector,
and need firewall holes created (if necessary.)  For secure connections,
449, 9475, 448, and 9476 would need to be opened.
<br><br>
For some hints on parameters to use for this connector, check out
the AS/400 CRTUSRPRF command documentation, start at
<a href="http://as400bks.rochester.ibm.com/cgi-bin/bookmgr/BOOKS/QB3AUP03/CONTENTS">
http://as400bks.rochester.ibm.com/cgi-bin/bookmgr/BOOKS/QB3AUP03/CONTENTS
</a>
and link through CRTUSRPRF.  One gotcha to watch out for are that
text arguments of the attributes TEXT, HOMEDIR, and LOCALE must be
surrounded by single quotes. Also the TEXT attribute requires escaping any single 
quotes with an additional single quote. The Connector handles these issues.
    </ul>
</p>
<h3>Version Information</h3>
     <table border="1">
     	<tr><th>Connector Version</th><th>Framework Version</th><th>Supported Resource Version(s)</th></tr>
     	<tr>
     	    <td><a href="#">1.0 (Not yet released)</a></td>
     	    <td><a href="https://identityconnectors.dev.java.net/downloads.html#Framework">1.0</a></td>
     	    <td><ul><li>AS/400 Version 5, Release 2 (V5R2)
     	    		<li>AS/400 Version 5, Release 3 (V5R3)	
     	    	</ul>
     	    </td>
     	</tr>
     	<!-- add later versions here -->
     </table>
    <p><b>Note:</b> The "Framework Version" listed is the <b><i>minimum</i></b> required framework version for that version of
    the connector. Newer framework versions are backwards compatible and will support previous connectors.</p>
<h3>Configuration Properties</h3>
<p>
These are the properties that can be specified on the Configuration object when setting up the Connector.
	<ul>
		<li>Required:
			<ul>
				<li><b>host</b> (String): the IP address or hostname of the target AS/400 machine
				<li><b>adminName</b> (String): the user id of a superuser on the AS/400 machine
				<li><b>adminPassword</b> (String): the password for the given user id				
			</ul>
		<li>Optional:
			<ul>
				<li><b>useSSL</b> (boolean): whether the connector should communicate over an SSL layer
			</ul>
	</ul>
</p>
<h3>Schema and Supported Features</h3>
<p>
This Connector supports both the ACCOUNT and GROUP object classes. All the public attributes specified in <b>AS400Configuration</b> are supported for both object class types.
In addition, they both support the NAME attribute and the ENABLED attribute (these are special attributes defined in the Connectors Framework). Furthermore, the ACCOUNT object class
supports the following special attributes:
<ul>
	<li>OperationalAttributeInfos.<b>PASSWORD</b>
	<li>OperationalAttributeInfos.<b>PASSWORD_EXPIRED</b>
	<li>OperationalAttributeInfos.<b>PASSWORD_EXPIRATION_DATE</b>
	<li>PredefinedAttributeInfos.<b>PASSWORD_CHANGE_INTERVAL</b>
	<li>PredefinedAttributeInfos.<b>LAST_PASSWORD_CHANGE_DATE</b>
	<li>PredefinedAttributeInfos.<b>LAST_LOGIN_DATE</b>
</ul>
The AS400 Connector supports the following operations:
	<ul>
				<li><b>Authenticate</b>
				<li><b>Create</b>
				<li><b>Delete</b>
				<li><b>Update</b>
				<li><b>Search</b>
				<li><b>Schema</b>
				<li><b>Test</b>
				<li><b>ScriptOnResource</b>
	</ul>
</p>
<h3>Documentation and Source Code</h3>
<p>The javadoc for this bundle is included in the zip file when you download the connector. The source code can be found under the <a href="https://identityconnectors.dev.java.net/source/browse/identityconnectors/">Subversion</a>
section of the IdentityConnectors website.</p>
</DIV>
</BODY>
</HTML>
